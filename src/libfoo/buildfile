# Public headers.
#
pub = [dir_path] ../../include/libfoo/

include $pub

# Unit tests.
#
exe{*.test}:
{
  test = true
  install = false
}

for t: cxx{**.test...}
{
  d = $directory($t)
  n = $name($t)...

  ./: $d/exe{$n}: $t $d/{hxx ixx txx}{+$n} $d/testscript{+$n} $pub/lib{foo}
}

# Build options.
#
out_src = [dir_path] $out_root/src/
src_src = [dir_path] $src_root/src/

cxx.poptions =+ "-I$out_src" "-I$src_src"

# Don't install private headers.
#
{hxx ixx txx}{*}: install = false
